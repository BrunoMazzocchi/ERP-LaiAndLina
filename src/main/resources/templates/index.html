<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Dashboard</title>

    <link rel="stylesheet" href="../static/vendors/feather/feather.css">
    <link rel="stylesheet" href="../static/vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="../static/vendors/ti-icons/css/themify-icons.css">
    <link rel="stylesheet" href="../static/vendors/typicons/typicons.css">
    <link rel="stylesheet" href="../static/vendors/simple-line-icons/css/simple-line-icons.css">
    <link rel="stylesheet" href="../static/css/vertical-layout-light/style.css">
    <link rel="shortcut icon" href="../static/images/favicon.png"/>

    <link rel="stylesheet" href="../static/css/vertical-layout-light/style.css">
    <link rel="stylesheet" type="text/css" href="../static/vendors/Bootstrap-5-5.1.3/css/bootstrap.min.css"/>

</head>
<body class="container-scroller">
<div th:replace="fragments/nav.html :: nav"></div>
<div class="container-fluid page-body-wrapper">
    <div th:replace="fragments/sidebar.html :: sidebar"></div>
    <!-- partial -->
    <div class="main-panel">
        <div class="content-wrapper">
            <div class="row">
                <div class="col-sm-12">
                    <div class="home-tab">
                        <div class="d-sm-flex align-items-center justify-content-between border-bottom">
                            <div>
                                <h2>Dashboard</h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12" style="margin-top: 10px">
                                <div class="row" style="max-height: 38rem; overflow:auto; margin-bottom: 10px;">
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-body">
                                                <h4 class="card-title">Pedidos en este mes</h4>
                                                <canvas id="pieChart"></canvas>
                                                <h6 style="margin-top: 40px;">Pedidos iniciados este mes y terminados
                                                    este mes.</h6>
                                            </div>
                                        </div>
                                    </div>
                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-body">
                                                    <h4 class="card-title">Pedidos de los ultimos 12 meses</h4>
                                                    <canvas id="barChart"></canvas>
                                                    <h5 style="margin-top: 60px;"></h5>
                                                </div>
                                            </div>
                                        </div>
                                </div>
                            </div>
                            <div th:replace="fragments/footer.html :: footer"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../static/vendors/js/vendor.bundle.base.js"></script>
<script src="../static/vendors/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
<script src="../static/js/off-canvas.js"></script>
<script src="../static/js/hoverable-collapse.js"></script>
<script src="../static/js/jquery.cookie.js" type="text/javascript"></script>
<script src="../static/js/dashboard.js"></script>
<script src="../static/js/template.js"></script>
<script src="../static/vendors/chart.js/Chart.min.js"></script>

<script th:inline="javascript">
    var orders = [[${orders}]];
    $(function (completedOrder, activeOrder) {
        completedOrder = 4;
        activeOrder = 3;
        'use strict';
        var pieData = {
            datasets: [{
                data: orders,
                backgroundColor: [
                    'rgba(255, 99, 132, 0.5)',
                    'rgba(54, 162, 235, 0.5)',
                    'rgba(255, 206, 86, 0.5)',
                    'rgba(75, 192, 192, 0.5)',
                    'rgba(153, 102, 255, 0.5)',
                    'rgba(255, 159, 64, 0.5)'
                ],
                borderColor: [
                    'rgba(255,99,132,1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
            }],

            // These labels appear in the legend and in the tooltips when hovering different arcs
            labels: [
                'Completados',
                'Activos',
            ]
        };
        var pieOptions = {
            responsive: true,
            animation: {
                animateScale: true,
                animateRotate: true
            }
        };
        var barData = {
            datasets: [{
                data: orders,
                backgroundColor: [
                    'rgba(255, 99, 132, 0.5)',
                    'rgba(54, 162, 235, 0.5)',
                    'rgba(255, 206, 86, 0.5)',
                    'rgba(75, 192, 192, 0.5)',
                    'rgba(153, 102, 255, 0.5)',
                    'rgba(255, 159, 64, 0.5)'
                ],
                borderColor: [
                    'rgba(255,99,132,1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
            },
                {
                    data: orders,
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.5)',
                        'rgba(54, 162, 235, 0.5)',
                        'rgba(255, 206, 86, 0.5)',
                        'rgba(75, 192, 192, 0.5)',
                        'rgba(153, 102, 255, 0.5)',
                        'rgba(255, 159, 64, 0.5)'
                    ],
                    borderColor: [
                        'rgba(255,99,132,1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                }],

            // These labels appear in the legend and in the tooltips when hovering different arcs
            labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre',
                'Noviembre', 'Diciembre']
        };


        var barOptions = {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            },
            legend: {
                display: false
            },
            elements: {
                point: {
                    radius: 0
                }
            }

        };


        if ($("#pieChart").length) {
            var pieChartCanvas = $("#pieChart").get(0).getContext("2d");
            var pieChart = new Chart(pieChartCanvas, {
                type: 'pie',
                data: pieData,
                options: pieOptions
            });
        }

        if ($("#barChart").length) {
            var barChartCanvas = $("#barChart").get(0).getContext("2d");
            // This will get the first returned node in the jQuery collection.
            var barChart = new Chart(barChartCanvas, {
                type: 'bar',
                data: barData,
                options: barOptions
            });
        }
    });
</script>
</body>
</html>